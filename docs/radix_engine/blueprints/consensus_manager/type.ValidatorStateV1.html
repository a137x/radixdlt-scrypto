<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `ValidatorStateV1` type in crate `radix_engine`."><title>ValidatorStateV1 in radix_engine::blueprints::consensus_manager - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../../static.files/rustdoc-5bc39a1768837dd0.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="radix_engine" data-themes="" data-resource-suffix="" data-rustdoc-version="1.77.1 (7cf61ebde 2024-03-27)" data-channel="1.77.1" data-search-js="search-dd67cee4cfa65049.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../../static.files/storage-4c98445ec4002617.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../../static.files/main-48f368f3872407c8.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-04d5337699b92874.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc type"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../radix_engine/index.html">radix_engine</a><span class="version">1.1.2</span></h2></div><h2 class="location"><a href="#">ValidatorStateV1</a></h2><div class="sidebar-elems"><section><h3><a href="#aliased-type">Aliased type</a></h3><h3><a href="#fields">Fields</a></h3><ul class="block field"><li><a href="#structfield.accepts_delegated_stake">accepts_delegated_stake</a></li><li><a href="#structfield.already_unlocked_owner_stake_unit_amount">already_unlocked_owner_stake_unit_amount</a></li><li><a href="#structfield.claim_nft">claim_nft</a></li><li><a href="#structfield.is_registered">is_registered</a></li><li><a href="#structfield.key">key</a></li><li><a href="#structfield.locked_owner_stake_unit_vault_id">locked_owner_stake_unit_vault_id</a></li><li><a href="#structfield.pending_owner_stake_unit_unlock_vault_id">pending_owner_stake_unit_unlock_vault_id</a></li><li><a href="#structfield.pending_owner_stake_unit_withdrawals">pending_owner_stake_unit_withdrawals</a></li><li><a href="#structfield.pending_xrd_withdraw_vault_id">pending_xrd_withdraw_vault_id</a></li><li><a href="#structfield.sorted_key">sorted_key</a></li><li><a href="#structfield.stake_unit_resource">stake_unit_resource</a></li><li><a href="#structfield.stake_xrd_vault_id">stake_xrd_vault_id</a></li><li><a href="#structfield.validator_fee_change_request">validator_fee_change_request</a></li><li><a href="#structfield.validator_fee_factor">validator_fee_factor</a></li></ul><h3><a href="#trait-implementations">Trait Implementations</a></h3><ul class="block trait-implementation"><li><a href="#impl-VersionedValidatorStateVersion-for-ValidatorSubstate">VersionedValidatorStateVersion</a></li></ul></section><h2><a href="index.html">In radix_engine::blueprints::consensus_manager</a></h2></div></nav><div class="sidebar-resizer"></div>
    <main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><div id="sidebar-button" tabindex="-1"><a href="../../../radix_engine/all.html" title="show sidebar"></a></div><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" tabindex="-1"><a href="../../../help.html" title="help">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Type Alias <a href="../../index.html">radix_engine</a>::<wbr><a href="../index.html">blueprints</a>::<wbr><a href="index.html">consensus_manager</a>::<wbr><a class="type" href="#">ValidatorStateV1</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../../src/radix_engine/blueprints/consensus_manager/validator.rs.html#192">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub type ValidatorStateV1 = <a class="struct" href="validator/struct.ValidatorSubstate.html" title="struct radix_engine::blueprints::consensus_manager::validator::ValidatorSubstate">ValidatorSubstate</a>;</code></pre><h2 id="aliased-type" class="section-header">Aliased Type<a href="#aliased-type" class="anchor">§</a></h2><pre class="rust item-decl"><code>struct ValidatorStateV1 {<details class="toggle type-contents-toggle"><summary class="hideme"><span>Show 14 fields</span></summary>
    pub sorted_key: <a class="enum" href="../../types/enum.Option.html" title="enum radix_engine::types::Option">Option</a>&lt;([<a class="primitive" href="https://doc.rust-lang.org/1.77.1/std/primitive.u8.html">u8</a>; <a class="primitive" href="https://doc.rust-lang.org/1.77.1/std/primitive.array.html">2</a>], <a class="struct" href="../../types/node_modules/metadata/struct.Vec.html" title="struct radix_engine::types::node_modules::metadata::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.77.1/std/primitive.u8.html">u8</a>&gt;)&gt;,
    pub key: <a class="struct" href="../../types/struct.Secp256k1PublicKey.html" title="struct radix_engine::types::Secp256k1PublicKey">Secp256k1PublicKey</a>,
    pub is_registered: <a class="primitive" href="https://doc.rust-lang.org/1.77.1/std/primitive.bool.html">bool</a>,
    pub accepts_delegated_stake: <a class="primitive" href="https://doc.rust-lang.org/1.77.1/std/primitive.bool.html">bool</a>,
    pub validator_fee_factor: <a class="struct" href="../../types/struct.Decimal.html" title="struct radix_engine::types::Decimal">Decimal</a>,
    pub validator_fee_change_request: <a class="enum" href="../../types/enum.Option.html" title="enum radix_engine::types::Option">Option</a>&lt;<a class="struct" href="validator/struct.ValidatorFeeChangeRequest.html" title="struct radix_engine::blueprints::consensus_manager::validator::ValidatorFeeChangeRequest">ValidatorFeeChangeRequest</a>&gt;,
    pub stake_unit_resource: <a class="struct" href="../../types/struct.ResourceAddress.html" title="struct radix_engine::types::ResourceAddress">ResourceAddress</a>,
    pub stake_xrd_vault_id: <a class="struct" href="../../types/struct.Own.html" title="struct radix_engine::types::Own">Own</a>,
    pub claim_nft: <a class="struct" href="../../types/struct.ResourceAddress.html" title="struct radix_engine::types::ResourceAddress">ResourceAddress</a>,
    pub pending_xrd_withdraw_vault_id: <a class="struct" href="../../types/struct.Own.html" title="struct radix_engine::types::Own">Own</a>,
    pub locked_owner_stake_unit_vault_id: <a class="struct" href="../../types/struct.Own.html" title="struct radix_engine::types::Own">Own</a>,
    pub pending_owner_stake_unit_unlock_vault_id: <a class="struct" href="../../types/struct.Own.html" title="struct radix_engine::types::Own">Own</a>,
    pub pending_owner_stake_unit_withdrawals: <a class="struct" href="../../types/struct.BTreeMap.html" title="struct radix_engine::types::BTreeMap">BTreeMap</a>&lt;<a class="struct" href="../../types/struct.Epoch.html" title="struct radix_engine::types::Epoch">Epoch</a>, <a class="struct" href="../../types/struct.Decimal.html" title="struct radix_engine::types::Decimal">Decimal</a>&gt;,
    pub already_unlocked_owner_stake_unit_amount: <a class="struct" href="../../types/struct.Decimal.html" title="struct radix_engine::types::Decimal">Decimal</a>,
</details>}</code></pre><h2 id="fields" class="fields section-header">Fields<a href="#fields" class="anchor">§</a></h2><span id="structfield.sorted_key" class="structfield section-header"><a href="#structfield.sorted_key" class="anchor field">§</a><code>sorted_key: <a class="enum" href="../../types/enum.Option.html" title="enum radix_engine::types::Option">Option</a>&lt;([<a class="primitive" href="https://doc.rust-lang.org/1.77.1/std/primitive.u8.html">u8</a>; <a class="primitive" href="https://doc.rust-lang.org/1.77.1/std/primitive.array.html">2</a>], <a class="struct" href="../../types/node_modules/metadata/struct.Vec.html" title="struct radix_engine::types::node_modules::metadata::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.77.1/std/primitive.u8.html">u8</a>&gt;)&gt;</code></span><div class="docblock"><p>A key used internally for storage of registered validators sorted by their stake descending.
It is only useful when the validator is registered and has non-zero stake - hence, the field
is <a href="../../types/enum.Option.html#variant.None" title="variant radix_engine::types::Option::None"><code>None</code></a> otherwise.
Note: in theory, this value could be always computed from the [<code>is_registered</code>] status and
the amount stored in [<code>stake_xrd_vault_id</code>]; we simply keep it cached to simplify certain
updates.</p>
</div><span id="structfield.key" class="structfield section-header"><a href="#structfield.key" class="anchor field">§</a><code>key: <a class="struct" href="../../types/struct.Secp256k1PublicKey.html" title="struct radix_engine::types::Secp256k1PublicKey">Secp256k1PublicKey</a></code></span><div class="docblock"><p>This validator’s public key.</p>
</div><span id="structfield.is_registered" class="structfield section-header"><a href="#structfield.is_registered" class="anchor field">§</a><code>is_registered: <a class="primitive" href="https://doc.rust-lang.org/1.77.1/std/primitive.bool.html">bool</a></code></span><div class="docblock"><p>Whether this validator is currently interested in participating in the consensus.</p>
</div><span id="structfield.accepts_delegated_stake" class="structfield section-header"><a href="#structfield.accepts_delegated_stake" class="anchor field">§</a><code>accepts_delegated_stake: <a class="primitive" href="https://doc.rust-lang.org/1.77.1/std/primitive.bool.html">bool</a></code></span><div class="docblock"><p>Whether this validator is currently accepting delegated stake or not</p>
</div><span id="structfield.validator_fee_factor" class="structfield section-header"><a href="#structfield.validator_fee_factor" class="anchor field">§</a><code>validator_fee_factor: <a class="struct" href="../../types/struct.Decimal.html" title="struct radix_engine::types::Decimal">Decimal</a></code></span><div class="docblock"><p>A fraction of the effective emission amount which gets transferred to the validator’s owner
(by staking it and depositing the stake units to the [<code>locked_owner_stake_unit_vault_id</code>]).
Note: it is a decimal factor, not a percentage (i.e. <code>0.015</code> means “1.5%” here).
Note: it may be overridden by [<code>validator_fee_change_request</code>], if it contains a change
which already became effective.</p>
</div><span id="structfield.validator_fee_change_request" class="structfield section-header"><a href="#structfield.validator_fee_change_request" class="anchor field">§</a><code>validator_fee_change_request: <a class="enum" href="../../types/enum.Option.html" title="enum radix_engine::types::Option">Option</a>&lt;<a class="struct" href="validator/struct.ValidatorFeeChangeRequest.html" title="struct radix_engine::blueprints::consensus_manager::validator::ValidatorFeeChangeRequest">ValidatorFeeChangeRequest</a>&gt;</code></span><div class="docblock"><p>The most recent request to change the [<code>validator_fee_factor</code>] (which requires a delay).
Note: the value from this request will be used instead of [<code>validator_fee_factor</code>] if the
request has already reached its effective epoch.
Note: when another change is requested, the value from this (previous) one is moved to the
[<code>validator_fee_factor</code>] - provided that it became already effective. Otherwise, this
request is overwritten by the new one.</p>
</div><span id="structfield.stake_unit_resource" class="structfield section-header"><a href="#structfield.stake_unit_resource" class="anchor field">§</a><code>stake_unit_resource: <a class="struct" href="../../types/struct.ResourceAddress.html" title="struct radix_engine::types::ResourceAddress">ResourceAddress</a></code></span><div class="docblock"><p>A type of fungible resource representing stake units specific to this validator.
Conceptually, “staking to validator A” means “contributing to the validator’s staking pool,
and receiving the validator’s stake units which act as the pool units for the staking pool”.</p>
</div><span id="structfield.stake_xrd_vault_id" class="structfield section-header"><a href="#structfield.stake_xrd_vault_id" class="anchor field">§</a><code>stake_xrd_vault_id: <a class="struct" href="../../types/struct.Own.html" title="struct radix_engine::types::Own">Own</a></code></span><div class="docblock"><p>A vault holding the XRDs currently staked to this validator.</p>
</div><span id="structfield.claim_nft" class="structfield section-header"><a href="#structfield.claim_nft" class="anchor field">§</a><code>claim_nft: <a class="struct" href="../../types/struct.ResourceAddress.html" title="struct radix_engine::types::ResourceAddress">ResourceAddress</a></code></span><div class="docblock"><p>A type of non-fungible token used as a receipt for unstaked stake units.
Unstaking burns the SUs and inactivates the staked XRDs (i.e. moves it from the regular
[<code>stake_xrd_vault_id</code>] to the [<code>pending_xrd_withdraw_vault_id</code>]), and then requires to claim
the XRDs using this NFT after a delay (see [<code>UnstakeData.claim_epoch</code>]).</p>
</div><span id="structfield.pending_xrd_withdraw_vault_id" class="structfield section-header"><a href="#structfield.pending_xrd_withdraw_vault_id" class="anchor field">§</a><code>pending_xrd_withdraw_vault_id: <a class="struct" href="../../types/struct.Own.html" title="struct radix_engine::types::Own">Own</a></code></span><div class="docblock"><p>A vault holding the XRDs that were unstaked (see the [<code>unstake_nft</code>]) but not yet claimed.</p>
</div><span id="structfield.locked_owner_stake_unit_vault_id" class="structfield section-header"><a href="#structfield.locked_owner_stake_unit_vault_id" class="anchor field">§</a><code>locked_owner_stake_unit_vault_id: <a class="struct" href="../../types/struct.Own.html" title="struct radix_engine::types::Own">Own</a></code></span><div class="docblock"><p>A vault holding the SUs that this validator’s owner voluntarily decided to temporarily lock
here, as a public display of their confidence in this validator’s future reliability.
Withdrawing SUs from this vault is subject to a delay (which is configured separately from
the regular unstaking delay, see [<code>ConsensusManagerConfigSubstate.num_owner_stake_units_unlock_epochs</code>]).
This vault is private to the owner (i.e. the owner’s badge is required for any interaction
with this vault).</p>
</div><span id="structfield.pending_owner_stake_unit_unlock_vault_id" class="structfield section-header"><a href="#structfield.pending_owner_stake_unit_unlock_vault_id" class="anchor field">§</a><code>pending_owner_stake_unit_unlock_vault_id: <a class="struct" href="../../types/struct.Own.html" title="struct radix_engine::types::Own">Own</a></code></span><div class="docblock"><p>A vault holding the SUs which the owner has decided to withdraw from their “public display”
vault (see [<code>locked_owner_stake_unit_vault_id</code>]) but which have not yet been unlocked after
the mandatory delay (see [<code>pending_owner_stake_unit_withdrawals</code>]).</p>
</div><span id="structfield.pending_owner_stake_unit_withdrawals" class="structfield section-header"><a href="#structfield.pending_owner_stake_unit_withdrawals" class="anchor field">§</a><code>pending_owner_stake_unit_withdrawals: <a class="struct" href="../../types/struct.BTreeMap.html" title="struct radix_engine::types::BTreeMap">BTreeMap</a>&lt;<a class="struct" href="../../types/struct.Epoch.html" title="struct radix_engine::types::Epoch">Epoch</a>, <a class="struct" href="../../types/struct.Decimal.html" title="struct radix_engine::types::Decimal">Decimal</a>&gt;</code></span><div class="docblock"><p>All currently pending “delayed withdrawal” operations of the owner’s stake units vault (see
[<code>locked_owner_stake_unit_vault_id</code>]).
This maps an epoch number to an amount of stake units that become unlocked at that epoch.
Note: because of performance considerations, a maximum size of this map is limited to
<a href="validator/constant.OWNER_STAKE_UNITS_PENDING_WITHDRAWALS_LIMIT.html" title="constant radix_engine::blueprints::consensus_manager::validator::OWNER_STAKE_UNITS_PENDING_WITHDRAWALS_LIMIT"><code>OWNER_STAKE_UNITS_PENDING_WITHDRAWALS_LIMIT</code></a>: starting another withdrawal will first
attempt to move any already-available amount to [<code>already_unlocked_owner_stake_unit_amount</code>]
and only then will fail if the limit is exceeded.</p>
</div><span id="structfield.already_unlocked_owner_stake_unit_amount" class="structfield section-header"><a href="#structfield.already_unlocked_owner_stake_unit_amount" class="anchor field">§</a><code>already_unlocked_owner_stake_unit_amount: <a class="struct" href="../../types/struct.Decimal.html" title="struct radix_engine::types::Decimal">Decimal</a></code></span><div class="docblock"><p>An amount of owner’s stake units that has already waited for a sufficient number of epochs
in the [<code>pending_owner_stake_unit_withdrawals</code>] and was automatically moved from there.
The very next [<code>finish_unlock_owner_stake_units()</code>] operation will release this amount.</p>
</div><h2 id="trait-implementations" class="section-header">Trait Implementations<a href="#trait-implementations" class="anchor">§</a></h2><div id="trait-implementations-list"><details class="toggle implementors-toggle" open><summary><section id="impl-VersionedValidatorStateVersion-for-ValidatorSubstate" class="impl"><a class="src rightside" href="../../../src/radix_engine/blueprints/consensus_manager/validator.rs.html#167-190">source</a><a href="#impl-VersionedValidatorStateVersion-for-ValidatorSubstate" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="validator/validator_models/trait.VersionedValidatorStateVersion.html" title="trait radix_engine::blueprints::consensus_manager::validator::validator_models::VersionedValidatorStateVersion">VersionedValidatorStateVersion</a> for <a class="type" href="validator/type.ValidatorStateV1.html" title="type radix_engine::blueprints::consensus_manager::validator::ValidatorStateV1">ValidatorStateV1</a></h3></section></summary><div class="impl-items"><section id="associatedtype.Versioned" class="associatedtype trait-impl"><a href="#associatedtype.Versioned" class="anchor">§</a><h4 class="code-header">type <a href="validator/validator_models/trait.VersionedValidatorStateVersion.html#associatedtype.Versioned" class="associatedtype">Versioned</a> = <a class="enum" href="validator/validator_models/enum.VersionedValidatorState.html" title="enum radix_engine::blueprints::consensus_manager::validator::validator_models::VersionedValidatorState">VersionedValidatorState</a></h4></section><section id="method.into_versioned" class="method trait-impl"><a class="src rightside" href="../../../src/radix_engine/blueprints/consensus_manager/validator.rs.html#167-190">source</a><a href="#method.into_versioned" class="anchor">§</a><h4 class="code-header">fn <a href="validator/validator_models/trait.VersionedValidatorStateVersion.html#tymethod.into_versioned" class="fn">into_versioned</a>(self) -&gt; Self::<a class="associatedtype" href="validator/validator_models/trait.VersionedValidatorStateVersion.html#associatedtype.Versioned" title="type radix_engine::blueprints::consensus_manager::validator::validator_models::VersionedValidatorStateVersion::Versioned">Versioned</a></h4></section></div></details></div><script src="../../../type.impl/radix_engine/blueprints/consensus_manager/validator/struct.ValidatorSubstate.js" data-self-path="radix_engine::blueprints::consensus_manager::validator::ValidatorStateV1" async></script></section></div></main></body></html>